[{"grab":"## Accessing container in google cloud build","views":"1. login `gcloud auth login`\n2. if you don't know the project to point to check via `gcloud projects list`\n3. point to the selected project `gcloud config set project my-project`\n4. do `gcloud container clusters list` to get the cluster name and zone\n5. connect to the cluster `gcloud container clusters get-credentials ckan-cloud-cluster --zone europe-west1`\n6. if you don't know the name of the pod namespace `kubectl get namespaces`\n7. list all the pods in the namespace `kubectl get pods -n dx-helm-project`\n8. access any of the pod via `kubectl exec -it my-project-pod -n dx-helm-project  -- /bin/bash`","tags":[]},{"grab":"## Deployment rollback","views":"**get the list of deployment**\n\n```\nkubectl get deployments -n <namespace>\n```\n\npick one of the deployment and then see list of rollout\n\n```\nkubectl rollout history deployment <deployment name> -n <namespace>\n\nREVISION  CHANGE-CAUSE\n76        <none>\n77        <none>\n78        <none>\n79        <none>\n80        <none>\n81        <none>\n82        <none>\n83        <none>\n84        <none>\n85        <none>\n86        <none>\n```\n\n86 is the latest and 85 is the previous. to rollback to 85\n\n```\nkubectl rollout undo deployment <deployment name> --to-revision=85 -n <namespace>\n\n```\n\ncheck the status of the rollback\n\n```\nkubectl rollout status deployment <deployment name>-n dx-h<namespace>\n\n```\n\n","tags":["docker"]}]